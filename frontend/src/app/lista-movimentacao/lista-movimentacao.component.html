<p-table #dt [value]="movimentacoes" dataKey="id" [paginator]="true" [rows]="6" [responsive]="true"[rowHover]="true" [showCurrentPageReport]="true"
[filterDelay]="0" [globalFilterFields]="['produtoId','periodo','tipoMovimento']">
  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="produtoId" style="min-width: 8rem">
        <div class="text-orange-500 flex justify-content-between align-items-center">
            Produto
            <p-sortIcon field="produtoId"></p-sortIcon>
            <p-columnFilter type="text" field="produtoId" display="menu" class="ml-auto"></p-columnFilter>
        </div>
      </th>

      <th pSortableColumn="periodo" style="min-width: 8rem">
        <div class="text-orange-500 flex justify-content-between align-items-center">
            Data do Movimento
            <p-sortIcon field="periodo"></p-sortIcon>
            <p-columnFilter type="text" field="periodo" display="menu" class="ml-auto"></p-columnFilter>
        </div>
      </th>
      <th pSortableColumn="tipoMovimento" style="min-width:14rem">
          <div class="text-orange-500 flex justify-content-center align-items-center">
              Tipo de Movimento
          </div>
      </th>
      <th style="min-width:10rem">
        Documento
      </th>
      <th style="min-width:10rem">
        Quantidade
      </th>
      <th style="min-width:10rem">
        Motivo
      </th>
      <th style="min-width:10rem">
        Saldo
      </th>
      <th style="min-width:10rem">
        Situacao
      </th>
      <th></th><th></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-dado>
    <tr>
      <td>{{dado.produtoId}}</td>
      <td>{{dado.data}}</td>
      <td>{{dado.tipoMovimento}}</td>
      <td>{{dado.documento}}</td>
      <td>{{dado.quantidade}}</td>
      <td>{{dado.motivo}}</td>
      <td>{{dado.saldo | currency: "BRL"}}</td>
      <td>{{dado.situacao}}</td>
      <td>
        <div class="d-flex">
          <button pButton pRipple type="button" icon="pi pi-file-edit" class="mb-2 p-button-rounded mr-2" (click)="mostrarDetalhes(movimentacao)"></button>
          <button pButton pRipple type="button" icon="pi pi-trash" class="p-button-danger p-button-rounded" (click)="excluirProduto(movimentacao)"></button>
        </div>
      </td>
    </tr>
  </ng-template>

</p-table>

<p-dialog [(visible)]="exibirDetalhes" appendTo="body" [modal]="true" [breakpoints]="{'960px': '75vw', '640px': '100vw'}" [style]="{width: '52vw'}" [draggable]="false" [resizable]="false">
  <app-detalhe-movimentacao [movimentacao]="movimentacao"></app-detalhe-movimentacao>
</p-dialog>


