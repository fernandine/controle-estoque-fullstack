<p-table #dt [value]="movimentacoes" dataKey="id" [rowHover]="true"
  [rows]="10" [showCurrentPageReport]="true"
  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
  [filterDelay]="0" [globalFilterFields]="['name','periodo','tipoMovimento','saldo']">
  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="nome" style="min-width: 14rem">
        <div class="text-orange-500 flex justify-content-between align-items-center">
            Produto
            <p-sortIcon field="nome"></p-sortIcon>
            <p-columnFilter type="text" field="name" display="menu" class="ml-auto"></p-columnFilter>
        </div>
      </th>
      <th pSortableColumn="periodo" style="min-width: 14rem">
        <div class="text-orange-500 flex justify-content-between align-items-center">
            Data do Movimento
            <p-sortIcon field="periodo"></p-sortIcon>
            <p-columnFilter type="text" field="periodo" display="menu" class="ml-auto"></p-columnFilter>
        </div>
      </th>
      <th pSortableColumn="tipoMovimento" style="min-width:14rem">
          <div class="text-orange-500 flex justify-content-center align-items-center">
              Tipo de Movimento
          </div>
      </th>
      <th style="min-width:10rem">
        Documento
      </th>
      <th style="min-width:10rem">
        Motivo
      </th>
      <th style="min-width:10rem">
        Saldo
      </th>
      <th style="min-width:10rem">
        Situacao
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-dado>
    <tr>
      <td (click)="visibleProduto = true" style="cursor: pointer; text-decoration: underline;">{{dado.produtoId}}</td>
      <td>{{dado.data}}</td>
      <td>{{dado.tipoMovimento}}</td>
      <td>{{dado.documento}}</td>
      <td>{{dado.motivo}}</td>
      <td>{{dado.saldo}}</td>
      <td>{{dado.situacao}}</td>
    </tr>
  </ng-template>

  <p-dialog [(visible)]="visibleProduto" appendTo="body" [modal]="true" [breakpoints]="{'960px': '75vw', '640px': '100vw'}" [style]="{width: '52vw'}" [draggable]="false" [resizable]="false">
    <app-lista-produto ></app-lista-produto>
  </p-dialog>
</p-table>
